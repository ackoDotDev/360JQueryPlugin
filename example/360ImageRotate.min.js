!function(e){e.fn.TreeSixtyImageRotate=function(t){let n=this,i=e.extend({totalFrames:36,endFrame:36,currentFrame:0,speed:50,dragSpeed:6,progress:".spinner",extension:".jpg",imgPrefix:"",navigation:!0,spinner:!0,imagesFolder:"images/",smallWidth:400,smallHeight:400,largeWidth:800,largeHeight:800,imagePlaceholderClass:"images-placeholder",imgList:"threesixty-images-rotate"},t);return n.initTreeSixty=function(){n.css({height:i.smallHeight,width:i.smallWidth,position:"relative",margin:"auto"}),i.spinner&&n.spinner("start"),this.loadImages(),i.navigation&&n.createNavigation();let e,t,a=!1,s=!1,l=!1;n.find(".images-list").on("mousedown touchstart",function(t){t.preventDefault(),e="mousedown"===t.type?t.pageX:t.originalEvent.touches[0].pageX,a=!0}).on("mousemove touchmove",function(o){a&&((t="mousemove"===o.type?o.pageX:o.originalEvent.touches[0].pageX)>e+i.dragSpeed?(s=!0,e=t,n.previous()):t<e-i.dragSpeed&&(l=!0,e=t,n.next()))}).on("mouseleave mouseup touchend",function(e){a=!1}),i.spinner&&n.spinner("stop")},n.loadImages=function(){let t,a,s,l;t=e("<div/>").attr({class:"images-display"}),a=e("<ul/>").attr({class:"images-list"});for(let t=0;t<i.totalFrames+1;t++)s=e("<li/>").attr({class:"images-display image-"+t+(0===t?" active":"")}),l=e("<img/>").attr({src:i.imagesFolder+i.imgPrefix+t+i.extension}),s.append(l),a.append(s);t.append(a),n.append(t)},n.createNavigation=function(){let t,a,s,l,o,r,c,u;t=e("<div/>").attr("class","navigation-bar-wrapper"),a=e("<div/>").attr("class","navigation-bar"),s=e("<div/>").attr({class:"navigation-bar-next"}),l=e("<div/>").attr({class:"navigation-bar-previous"}),o=e("<div/>").attr({class:"navigation-bar-play"}),r=e("<div/>").attr({class:"navigation-bar-resize"}),a.append(l),a.append(o),a.append(s),a.append(r),t.append(a),n.append(t),s.on("mousedown touchstart",function(e){e.preventDefault(),c=setInterval(function(){n.next()},i.speed)}).on("mouseleave mouseup touchend",function(){clearInterval(c)}),l.on("mousedown touchstart",function(e){e.preventDefault(),u=setInterval(function(){n.previous()},i.speed)}).on("mouseleave mouseup touchend",function(){clearInterval(u)});let d,m=!1;o.on("mousedown touchstart",function(e){e.preventDefault(),m?(n.find(".navigation-bar-play").removeClass("navigation-bar-stop"),m=!1,clearInterval(d)):(n.find(".navigation-bar-play").addClass("navigation-bar-stop"),m=!0,d=setInterval(function(){n.next()},i.speed))}),r.on("mousedown touchstart",function(e){e.preventDefault(),n.togleFullScreen()})},n.spinner=function(t){let a;if(a=e("<div/>").attr({class:"loading-spinner"}),n.append(a),"start"===t){let t=e(window).width();t>991?n.find(".loading-spinner").css({height:i.smallHeight,width:i.smallWidth}):n.find(".loading-spinner").css({"max-height":i.largeHeight,"max-width":i.largeWidth,height:t,width:t})}else"stop"===t?n.find(".loading-spinner").css({display:"none"}):console.log("Invalid status for spinner")},n.next=function(){let e=n.find(".active"),t=e.attr("class").split(/\s+/)[1],a=parseInt(t.substring(6));--a<0&&(a=i.totalFrames);let s="image-"+a;n.find("."+s).addClass("active"),e.removeClass("active")},n.previous=function(){let e=n.find(".active"),t=e.attr("class").split(/\s+/)[1],a=parseInt(t.substring(6));++a>i.totalFrames&&(a=0);let s="image-"+a;n.find("."+s).addClass("active"),e.removeClass("active")},n.togleFullScreen=function(){e(document)[0].fullscreenElement||e(document)[0].mozFullScreenElement||e(document)[0].webkitFullscreenElement||e(document)[0].msFullscreenElement?e(document)[0].exitFullscreen?e(document)[0].exitFullscreen():e(document)[0].msExitFullscreen?e(document)[0].msExitFullscreen():e(document)[0].mozCancelFullScreen?e(document)[0].mozCancelFullScreen():e(document)[0].webkitExitFullscreen&&e(document)[0].webkitExitFullscreen():e(this)[0].requestFullscreen?e(this)[0].requestFullscreen():e(this)[0].msRequestFullscreen?e(this)[0].msRequestFullscreen():e(this)[0].mozRequestFullScreen?e(this)[0].mozRequestFullScreen():e(this)[0].webkitRequestFullscreen&&e(this)[0].webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},n.resize=function(){n.find(".navigation-bar-resize").toggleClass("navigation-bar-resize-small-icon"),e(document)[0].fullscreenElement||e(document)[0].mozFullScreenElement||e(document)[0].webkitFullscreenElement||e(document)[0].msFullscreenElement?n.find(".images-display").css({height:i.largeHeight,width:i.largeWidth,margin:"auto"}):n.find(".images-display").css({height:"100%",width:"100%",margin:"auto"})},n.on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){n.resize()}),e(window).resize(function(t){let a=e(window).width();a>991?n.css({height:i.smallHeight,width:i.smallWidth}):n.css({"max-height":i.largeHeight,"max-width":i.largeWidth,height:a,width:a})}),e(document).ready(function(t){let a=e(window).width();a>991?n.css({height:i.smallHeight,width:i.smallWidth}):n.css({"max-height":i.largeHeight,"max-width":i.largeWidth,height:a,width:a})}),n}}(jQuery);
